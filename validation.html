<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Validation</title>
    <script>
      function validateForm(event) {
        event.preventDefault();

        const namaPelanggan = document.getElementById("namaPelanggan").value;
        const email = document.getElementById("email").value;
        const jamKeberangkatan =
          document.getElementById("jamKeberangkatan").value;
        const tujuanKeberangkatan = document.getElementById(
          "tujuanKeberangkatan"
        ).value;
        const jumlahTiket = document.getElementById("jumlahTiket").value;

        const namaPelangganError =
          document.getElementById("namaPelangganError");
        const emailError = document.getElementById("emailError");
        const jamKeberangkatanError = document.getElementById(
          "jamKeberangkatanError"
        );
        const tujuanKeberangkatanError = document.getElementById(
          "tujuanKeberangkatanError"
        );
        const jumlahTiketError = document.getElementById("jumlahTiketError");

        const isValidEmail = /\S+@\S+\.\S+/;
        const isValidTime = /^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;

        let isValid = true;

        if (namaPelanggan.length === 0 || namaPelanggan.length > 30) {
          namaPelangganError.textContent =
            "Nama Pelanggan harus diisi (maksimum 30 karakter)";
          isValid = false;
        } else {
          namaPelangganError.textContent = "";
        }

        if (!isValidEmail.test(email)) {
          emailError.textContent = "Email harus dalam format yang valid";
          isValid = false;
        } else {
          emailError.textContent = "";
        }

        if (!isValidTime.test(jamKeberangkatan)) {
          jamKeberangkatanError.textContent =
            "Format jam harus antara 00.00 - 23.59";
          isValid = false;
        } else {
          jamKeberangkatanError.textContent = "";
        }

        if (tujuanKeberangkatan.length === 0) {
          tujuanKeberangkatanError.textContent =
            "Tujuan Keberangkatan harus diisi";
          isValid = false;
        } else {
          tujuanKeberangkatanError.textContent = "";
        }

        if (jumlahTiket < 1 || jumlahTiket > 10) {
          jumlahTiketError.textContent = "Jumlah Tiket harus antara 1 - 10";
          isValid = false;
        } else {
          jumlahTiketError.textContent = "";
        }

        if (isValid) {
          const displayData = document.getElementById("displayData");
          displayData.innerHTML = `
      Nama Pelanggan: ${namaPelanggan}<br>
      Email: ${email}<br>
      Jam Keberangkatan: ${jamKeberangkatan}<br>
      Tujuan Keberangkatan: ${tujuanKeberangkatan}<br>
      Jumlah Tiket: ${jumlahTiket}
    `;

          document.getElementById("validData").style.display = "block";
        } else {
          document.getElementById("validData").style.display = "none";
        }
      }
    </script>
  </head>
  <body>
    <fieldset>
      <legend>Form Validation</legend>
      <form id="bookingForm">
        <div>
          <label for="namaPelanggan">Nama Pelanggan:</label>
          <input type="text" id="namaPelanggan" required maxlength="30" />
          <span class="error" id="namaPelangganError"></span>
        </div>

        <div>
          <label for="email">Email:</label>
          <input type="email" id="email" required />
          <span class="error" id="emailError"></span>
        </div>

        <div>
          <label for="jamKeberangkatan">Jam Keberangkatan:</label>
          <input
            type="text"
            id="jamKeberangkatan"
            required
            pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]"
          />
          <span class="error" id="jamKeberangkatanError"></span>
        </div>

        <div>
          <label for="tujuanKeberangkatan">Tujuan Keberangkatan:</label>
          <input type="text" id="tujuanKeberangkatan" required />
          <span class="error" id="tujuanKeberangkatanError"></span>
        </div>

        <div>
          <label for="jumlahTiket">Jumlah Tiket:</label>
          <input type="number" id="jumlahTiket" required min="1" max="10" />
          <span class="error" id="jumlahTiketError"></span>
        </div>

        <button type="submit" onclick="validateForm(event)">Submit</button>
      </form>

      <div id="validData" style="display: none">
        <h2>Data Valid:</h2>
        <p id="displayData"></p>
      </div>
    </fieldset>
  </body>
</html>
